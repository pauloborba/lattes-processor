<section class="pesquisadoresView">
    <h1 class="pesquisadoresTitle">PESQUISADORES</h1>
    <div class="pesquisadoresList">
    <h1 *ngIf='pesquisadores.length === 0'>Nenhum pesquisador cadastrado no momento.</h1>
        <div *ngFor="let p of pesquisadores; let i = index" class="pesquisadorContainer">
            <div class="LinhaPrincipal" [ngClass]="buttonStatus[i] ? '' : 'ativo'">
                <span attr.name="{{p.nome}}">{{p.nome}}</span>
                <div attr.name="seleciona{{p.nome}}" class="button" (click)="clickButtonExpande(i)" [ngClass]="buttonStatus[i] ? 'ativo' : ''" >
                    <div class="b1"></div>
                    <div class="b2"></div>
                </div>
            </div>
            <div class="LinhasSecundaria" [ngClass]="buttonStatus[i] ? '' : 'ativo'">
                <div *ngFor="let pub of p.publicacoes" class="LinhaSecundaria" attr.name="publicao{{p.cpf}}" [ngClass]="buttonStatus[i] ? '' : 'ativo'" >
                    <span>{{pub.titulo}}</span>
                    <div class="marcador"></div>
                </div>
                <button attr.name="remover{{p.nome}}" (click)="removerPesquisador(p.cpf)" [ngClass]="buttonStatus[i] ? '' : 'ativo'"> Apagar </button>
                <input attr.name="atualizar{{p.nome}}" type="file" accept=".xml"
                (change)="atualizarPesquisador($event.target.files);clickButtonExpande(i)" [ngClass]="buttonStatus[i] ? '' : 'ativo'">
            </div>
            <div class="marcador"></div>
        </div>
    </div>
    <div class="addSpace">
        <div class="notifcacao" [ngClass]="notificacaoClasses" name="notifica" id="notifica"><span class="notifcacaotxt" name="notificatxt" id="notificatxt">{{notificacaoTexto}}</span>
        <div class="button" (click)="controla_notificacao(false)">
            <div class="b1"></div>
            <div class="b2"></div>
        </div>
    </div>
    <input type="file" name="file" id="file" accept=".xml" 
    (change)="adicionarPesquisador($event.target.files)" multiple>
    </div>

    <div class="modal" [ngClass]="atualizarModal? '' : 'mostrar'">
        <div class="mensagem">
            <p>O pesquisador já existe na base de dados, gostaria de realizar uma atualização?</p>
            <button name="atualizarModal" (click)="atualizarModal = false;atualizarPesquisador(lastfiles)">Sim</button>
            <button (click)="atualizarModal = false">Não</button>
        </div>
    </div>
</section>